# ---------- BASIC BEHAVIOR ----------
set -g mouse on                # Mouse support for resizing/switching panes
set -g history-limit 10000      # Bigger scrollback buffer
set -g escape-time 0            # Faster key response

# Use C-a instead of C-b as prefix (feels quicker)
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Split shortcuts like Zellij (vertical = |, horizontal = -)
bind | split-window -h
bind - split-window -v
unbind '"'
unbind %

# Pane navigation with Alt + arrows
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# ---------- STATUS BAR ----------
set -g status on
set -g status-interval 5
set -g status-justify centre
set -g status-bg colour236
set -g status-fg white

# Left: session name | window list
set -g status-left-length 30
set -g status-left "#[bold,fg=green]#S #[fg=white]| "

# Right: date and time
set -g status-right "#[fg=cyan]%Y-%m-%d #[fg=yellow]%H:%M:%S "

# Active window highlight
set-window-option -g window-status-current-format "#[bg=blue,fg=white,bold] #I:#W "

# ---------- QUALITY OF LIFE ----------
# Quickly reload config
bind r source-file ~/.tmux.conf \; display-message "Config reloaded!"

# Start with one persistent default session
if-shell "tmux ls 2>/dev/null | grep -q '^main:'" \
    "attach-session -t main" \
    "new-session -s main"
